{
    "name": "Enhanced SMS Conversation",

    "namespace": "Stanford\\EnhancedSMSConversation",

    "description": "This module mimics the built-in REDCap SMS survey conversation but adds more flexibility around reminders, expiration, and custom context based on event/instance.",

    "documentation": "README.md",

    "framework-version": 12,

    "authors": [
        {
            "name": "Andrew Martin",
            "email": "andy123@stanford.edu",
            "institution": "Stanford"
        },
        {
            "name": "Jae Lee",
            "email": "jael@stanford.edu",
            "institution": "Stanford"
        }
    ],

    "enable-every-page-hooks-on-system-pages": false,

    "links": {
        "project": [
            {
                "name": "Enhanced SMS Conversation",
                "icon": "fas fa-cog",
                "url": "pages/detail.php"
            }
        ],
        "control-center": [

        ]
    },

    "no-auth-pages": [
        "pages/inbound"
    ],

    "no-csrf-pages": [
        "pages/inbound"
    ],

    "enable-no-auth-logging": true,

    "project-settings": [
        {
            "key": "phone-field",
            "name": "<b>Phone Field</b><br>Field containing the participants phone number validated as a phone number.",
            "required": true,
            "type": "field-list"
        },
        {
            "key": "phone-field-event-id",
            "name": "<b>Phone Field Event</b><br>If project is longitudinal, please select the event containing the phone field",
            "required": false,
            "type": "event-list"
        },
        {
            "key": "twilio-number",
            "name": "<b>Twilio Number</b><br>In E.164 format, e.g. +16508675309",
            "required": true,
            "type": "text"
        },
        {
            "key": "twilio-sid",
            "name": "<b>Twilio API SID</b>",
            "required": true,
            "type": "text"
        },
        {
            "key": "twilio-token",
            "name": "<b>Twilio API Token</b>",
            "required": true,
            "type": "password"
        },
        {
            "key": "disable-outgoing-sms",
            "name": "<b>Disable Outgoing Twilio SMS</b><br><i>(optional)</i> If checked, module will not send twilio messages",
            "required": true,
            "type": "checkbox"
        },
        {
            "key": "disable-incoming-sms",
            "name": "<b>Disable Incoming Twilio SMS</b><br><i>(optional)</i> If checked, module will not process inbound twilio messages",
            "required": true,
            "type": "checkbox"
        },
        {
            "key": "enable-project-debug-logging",
            "name": "<b>Enable Debug Logging</b><br><i>(optional)</i> Requires installation and configuration of emLogger",
            "required": false,
            "type": "checkbox"
        }
    ],

    "system-settings": [
        {
            "key": "enable-system-debug-logging",
            "name": "<b>Enable Debug Logging (system-wide)</b><i>(optional)</i> Requires installation and configuration of emLogger",
            "required": false,
            "type": "checkbox"
        }
    ],

    "crons": [
        {
            "cron_name": "enhanced_sms_conversation_cron",
            "cron_description": "This cron evaluates open conversations for reminders, expiration, etc.",
            "method": "scanConversationsCron",
            "cron_frequency": "180",
            "cron_max_run_time": "150"
        }

    ],

    "compatibility": {
        "php-version-min": "",
        "php-version-max": "",
        "redcap-version-min": "",
        "redcap-version-max": ""
    }
}
